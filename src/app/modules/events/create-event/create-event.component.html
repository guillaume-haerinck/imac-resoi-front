<app-top-app-bar *ngIf="bMobile" 
  [title]="topBarTitle"
  [bReturn]="currentStep != formStep.Minimal ? true : false"
  (return)="previousStep(); updateTitle()">
</app-top-app-bar>

<div id="create-page" [style.background-image]="'url(' + eventForm.value.photo_url + ')'">
  <form [formGroup]="eventForm">
    <ng-container *ngIf="currentStep == formStep.Minimal">
      <mat-form-field appearance="fill">
        <mat-label>Nom de l'évènement</mat-label>
        <input matInput placeholder="Crous party" formControlName="title">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Catégorie</mat-label>
        <mat-select placeholder="Type d'évènement" formControlName="photo_url">
          <mat-option value="https://images.unsplash.com/photo-1470753937643-efeb931202a9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80">
            Soirée
          </mat-option>
          <mat-option value="https://images.unsplash.com/photo-1519389950473-47ba0277781c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80">
            Révision
          </mat-option>
          <mat-option value="https://images.unsplash.com/photo-1485518994577-6cd6324ade8f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=944&q=80">
            Sortie
          </mat-option>
          <mat-option value="https://images.unsplash.com/photo-1509994196812-897f5a6ab49c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=975&q=80">
            Mystère
          </mat-option>
        </mat-select>
      </mat-form-field>

      <button mat-raised-button
        [disabled]="!eventForm.valid"
        (click)="currentStep = formStep.Places; updateTitle()">
        Ajouter des détails
      </button>
  
      <button mat-raised-button color="accent"
        aria-label="Créer l'évènement"
        (click)="submitForm()"
        [disabled]="!eventForm.valid">
        Créer l'évènement
      </button>
    </ng-container>

    <ng-container *ngIf="currentStep == formStep.Places">
      <p>Places works !</p>

      <button mat-raised-button color="accent"
        aria-label="Créer l'évènement"
        (click)="submitForm()"
        [disabled]="!eventForm.valid">
        Créer l'évènement
      </button>
    </ng-container>

    <a (click)="previousStep()" *ngIf="currentStep != formStep.Minimal && !bMobile">Retour</a>
  </form>
</div>
